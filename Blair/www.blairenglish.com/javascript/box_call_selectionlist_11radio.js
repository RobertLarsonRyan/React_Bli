// JavaScript Document



function showObject1(){
  yourAns[1]= document.getElementById("q1").value;
  
  
  
  
  if(yourAns[1] == ans[1]){
  document.getElementById("n1").style.visibility = "visible"; }
  else {
	  document.getElementById("n1").style.visibility = "hidden"; }
  
}
 function hideObject1() {  
 if (navigator.userAgent.indexOf("Firefox")!=-1)
 {
  document.getElementById("n1").style.visibility = "hidden";}
  else {
  document.all["n1"].style.visibility = "hidden";}  

 }
 function showObject2() {  
   
 yourAns[2]= document.getElementById("q2").value;
  
  
  
  
  if(yourAns[2] == ans[2]){
  document.getElementById("n2").style.visibility = "visible"; }
  else {
	  document.getElementById("n2").style.visibility = "hidden"; }   

 }
 function hideObject2() {  
  if (navigator.userAgent.indexOf("Firefox")!=-1)
 {
  document.getElementById("n2").style.visibility = "hidden";}
  else {
  document.all["n2"].style.visibility = "hidden";} 
  
 }
 function showObject3() {  
   
  yourAns[3]= document.getElementById("q3").value;
  
  
  
  
  if(yourAns[3] == ans[3]){
  document.getElementById("n3").style.visibility = "visible"; }
  else {
	  document.getElementById("n3").style.visibility = "hidden"; } 

 }
 function hideObject3() {  
   if (navigator.userAgent.indexOf("Firefox")!=-1)
 {
  document.getElementById("n3").style.visibility = "hidden";}
  else {
  document.all["n3"].style.visibility = "hidden";}               
 }
 
 function showObject4() {  
   yourAns[4]= document.getElementById("q4").value;
  
  
  
  
  if(yourAns[4] == ans[4]){
  document.getElementById("n4").style.visibility = "visible"; }
  else {
	  document.getElementById("n4").style.visibility = "hidden"; }
  

 }
 function hideObject4() {  
   if (navigator.userAgent.indexOf("Firefox")!=-1)
 {
  document.getElementById("n4").style.visibility = "hidden";}
  else {
  document.all["n4"].style.visibility = "hidden";}               
 }
 
 function showObject5() {  
  yourAns[5]= document.getElementById("q5").value;
  
  
  
  
  if(yourAns[5] == ans[5]){
  document.getElementById("n5").style.visibility = "visible"; }
  else {
	  document.getElementById("n5").style.visibility = "hidden"; } 
  

 }
 function hideObject5() {  
   if (navigator.userAgent.indexOf("Firefox")!=-1)
 {
  document.getElementById("n5").style.visibility = "hidden";}
  else {
  document.all["n5"].style.visibility = "hidden";}               
 }
 
 function showObject6() {  
   yourAns[6]= document.getElementById("q6").value;
  
  
 
  
  if(yourAns[6] == ans[6]){
  document.getElementById("n6").style.visibility = "visible"; }
  else {
	  document.getElementById("n6").style.visibility = "hidden"; }
   

 }
 function hideObject6() {  
   if (navigator.userAgent.indexOf("Firefox")!=-1)
 {
  document.getElementById("n6").style.visibility = "hidden";}
  else {
  document.all["n6"].style.visibility = "hidden";}               
 }
 
 function showObject7() {  
   yourAns[7]= document.getElementById("q7").value;
  
  
  
  
  if(yourAns[7] == ans[7]){
  document.getElementById("n7").style.visibility = "visible"; }
  else {
	  document.getElementById("n7").style.visibility = "hidden"; }
   

 }
 function hideObject7() {  
   if (navigator.userAgent.indexOf("Firefox")!=-1)
 {
  document.getElementById("n7").style.visibility = "hidden";}
  else {
  document.all["n7"].style.visibility = "hidden";}             
 }
 
 function showObject8() {  
   yourAns[8]= document.getElementById("q8").value;
  
  
  
  
  if(yourAns[8] == ans[8]){
  document.getElementById("n8").style.visibility = "visible"; }
  else {
	  document.getElementById("n8").style.visibility = "hidden"; }
  


 }
 function hideObject8() {  
   if (navigator.userAgent.indexOf("Firefox")!=-1)
 {
  document.getElementById("n8").style.visibility = "hidden";}
  else {
  document.all["n8"].style.visibility = "hidden";}              
 }
 
 function showObject9() {  
  yourAns[9]= document.getElementById("q9").value;
  
  
  
  
  if(yourAns[9] == ans[9]){
  document.getElementById("n9").style.visibility = "visible"; }
  else {
	  document.getElementById("n9").style.visibility = "hidden"; } 
   

 }
 function hideObject9() {  
   if (navigator.userAgent.indexOf("Firefox")!=-1)
 {
  document.getElementById("n9").style.visibility = "hidden";}
  else {
  document.all["n9"].style.visibility = "hidden";}              
 }
 
 function showObject10() {  
   yourAns[10]= document.getElementById("q10").value;
  
  
  
  
  if(yourAns[10] == ans[10]){
  document.getElementById("n10").style.visibility = "visible"; }
  else {
	  document.getElementById("n10").style.visibility = "hidden"; }
  
 }
 function hideObject10() {  
   if (navigator.userAgent.indexOf("Firefox")!=-1)
 {
  document.getElementById("n10").style.visibility = "hidden";}
  else {
  document.all["n10"].style.visibility = "hidden";}               
 }
 
  function showObject11() {  
   yourAns[11]= document.getElementById("q11").value;
  
  
  
  
  if(yourAns[11] == ans[11]){
  document.getElementById("n11").style.visibility = "visible"; }
  else {
	  document.getElementById("n11").style.visibility = "hidden"; }
  
 }
 function hideObject11() {  
   if (navigator.userAgent.indexOf("Firefox")!=-1)
 {
  document.getElementById("n11").style.visibility = "hidden";}
  else {
  document.all["n11"].style.visibility = "hidden";}               
 }
 
  function showObject12() {  
   yourAns[12]= document.getElementById("q12").value;
  
  if(yourAns[12] == ans[12]){
  document.getElementById("n12").style.visibility = "visible"; }
  else {
	  document.getElementById("n12").style.visibility = "hidden"; }
  
 }
 function hideObject12() {  
   if (navigator.userAgent.indexOf("Firefox")!=-1)
 {
  document.getElementById("n12").style.visibility = "hidden";}
  else {
  document.all["n12"].style.visibility = "hidden";}               
 }
 
  function showObject13() {  
   yourAns[13]= document.getElementById("q13").value;
  
  
  
  
  if(yourAns[13] == ans[13]){
  document.getElementById("n13").style.visibility = "visible"; }
  else {
	  document.getElementById("n13").style.visibility = "hidden"; }
  
 }
 
 function hideObject13() {  
   if (navigator.userAgent.indexOf("Firefox")!=-1)
 {
  document.getElementById("n13").style.visibility = "hidden";}
  else {
  document.all["n13"].style.visibility = "hidden";}               
 }
 
function showObject14() {  
   yourAns[14]= document.getElementById("q14").value;
  
  
   
  if(yourAns[14] == ans[14]){
  document.getElementById("n14").style.visibility = "visible"; }
  else {
	  document.getElementById("n14").style.visibility = "hidden"; }
  
 }
 function hideObject14() {  
   if (navigator.userAgent.indexOf("Firefox")!=-1)
 {
  document.getElementById("n14").style.visibility = "hidden";}
  else {
  document.all["n14"].style.visibility = "hidden";}               
 }
 
 
   function showObject15() {  
   yourAns[15]= document.getElementById("q15").value;
     
  if(yourAns[15] == ans[15]){
  document.getElementById("n15").style.visibility = "visible"; }
  else {
	  document.getElementById("n15").style.visibility = "hidden"; }
  
 }
 function hideObject15() {  
   if (navigator.userAgent.indexOf("Firefox")!=-1)
 {
  document.getElementById("n15").style.visibility = "hidden";}
  else {
  document.all["n15"].style.visibility = "hidden";}               
 }
 
    function showObject16() {  
   yourAns[16]= document.getElementById("q16").value;
     
  if(yourAns[16] == ans[16]){
  document.getElementById("n16").style.visibility = "visible"; }
  else {
	  document.getElementById("n16").style.visibility = "hidden"; }
  
 }
 function hideObject16() {  
   if (navigator.userAgent.indexOf("Firefox")!=-1)
 {
  document.getElementById("n16").style.visibility = "hidden";}
  else {
  document.all["n16"].style.visibility = "hidden";}               
 }
 
     function showObject17() {  
   yourAns[17]= document.getElementById("q17").value;
     
  if(yourAns[17] == ans[17]){
  document.getElementById("n17").style.visibility = "visible"; }
  else {
	  document.getElementById("n17").style.visibility = "hidden"; }
  
 }
 function hideObject17() {  
   if (navigator.userAgent.indexOf("Firefox")!=-1)
 {
  document.getElementById("n17").style.visibility = "hidden";}
  else {
  document.all["n17"].style.visibility = "hidden";}               
 }
 
     function showObject18() {  
   yourAns[18]= document.getElementById("q18").value;
     
  if(yourAns[18] == ans[18]){
  document.getElementById("n18").style.visibility = "visible"; }
  else {
	  document.getElementById("n18").style.visibility = "hidden"; }
  
 }
 function hideObject18() {  
   if (navigator.userAgent.indexOf("Firefox")!=-1)
 {
  document.getElementById("n18").style.visibility = "hidden";}
  else {
  document.all["n18"].style.visibility = "hidden";}               
 }
 
     function showObject19() {  
   yourAns[19]= document.getElementById("q19").value;
     
  if(yourAns[19] == ans[19]){
  document.getElementById("n19").style.visibility = "visible"; }
  else {
	  document.getElementById("n19").style.visibility = "hidden"; }
  
 }
 function hideObject19() {  
   if (navigator.userAgent.indexOf("Firefox")!=-1)
 {
  document.getElementById("n19").style.visibility = "hidden";}
  else {
  document.all["n19"].style.visibility = "hidden";}               
 }
	  
	  
 var press = 0;

function Press(ans,yourAns) {
	
	press++;
	
	for(i=1;i<=yourAns.length;i++){
	
	if ((press >= 4) && (document.getElementById("q" + i).value != ans[i])) {
		
		var Dialog = confirm("Do you want to see the correct answers to the questions?") 
		
		if (Dialog) {
		
		for(i=1;i<=yourAns.length;i++){
   
         document.getElementById("q" + i).value = ans[i];
		 document.getElementById("img" + i).src = "../../../../images/icons/tick.gif";
	document.getElementById("info" + i).src = "../../../../images/buttons/infobutton1.gif";
	document.getElementById("info" + i).title = "Click here for extra info about this word/phrase";
	document.getElementById("audio" + i).src = "../../../../images/buttons/listenbutton1.gif";
	document.getElementById("audio" + i).title = "Click here to listen and practise the pronunciation of this word/phrase";
  
		}
		}else{
			return;
		}
	}
	
}
}

//function that checks if the speaking answer is correct
function checkIfCorrect(reply, correct, image){
	var speech = reply;
	var answer = correct;
	var tick_cross = image;
	 if (speech == answer) {
		 
		 document.getElementById(tick_cross).src = "../../../../images/icons/tick.gif";
	 }else{
	
	document.getElementById(tick_cross).src = "../../../../images/icons/cross.gif";
}
}


 function hideObjectAudio(number){
  var number = number;  
 if (navigator.userAgent.indexOf("Firefox")!=-1)
 {
  
  document.getElementById("p" + number).style.visibility = "hidden";}
  else {
  
  document.all["p" + number].style.visibility = "hidden";}  

 }

//function that changes the z-index of the info & audio boxes
 var boxOpen = 1;
function changeZindex(element) {
	
	boxOpen++;
	
	var boxID = element;
	var increase = document.getElementById(boxID).style.zIndex = boxOpen;

}

//function that sends an event to google analytics for audio box opening
function sendAudioEvent1() {
	
}

//function to record audio with the broswer for the pronun tests 

var recognition = new webkitSpeechRecognition();
recognition.lang = "en-GB";



var interimResult = "";
var correctAnswer = "";
var Qnumber = 0;


		function startRec(number,correct) {
		Qnumber = number;
			var correct = correct;
			correctAnswer = correct;
		  recognition.start();
		
			        recognition.onerror = function (event) { alert("Connect a microphone to your computer to do this speaking test");
		}
			
		}
		

        recognition.onresult = function (event) {
               
            for (var i = event.resultIndex; i < event.results.length; ++i) {
                if (event.results[i].isFinal) {
                    document.getElementById("speaking" + Qnumber).value = event.results[i][0].transcript;
					if (event.results[i][0].transcript == correctAnswer) {
						
					document.getElementById("audio_answer" + Qnumber).src = "../../../../../images/icons/tick.gif" 
					}else{
						
				document.getElementById("audio_answer" + Qnumber).src = "../../../../../images/icons/cross.gif";
}	
					
                } else {
                    alert("not working");
                }
            }
			
		
        }
		

//function to say if speech test works
function showObjectAudio(number){
  var number = number;

  
  

  

  
 document.getElementById("p" + number).style.visibility = "visible";
 
   sendAudioEvent1();
   if (!(window.webkitSpeechRecognition)) {
		                
					var para = document.createElement("span");
					para.style.color = "red";
					para.setAttribute("id", "newSpan" + number);
					var element = document.getElementById('table' + number);
					element.appendChild(para);
					var text = document.createTextNode("This speech test doesn't work on your browser. Use the Google Chrome browser (except on iOS/Apple) to do this test. Sorry.");
					
					para.appendChild(text);
						
						
						document.getElementById("p" + number).style.visibility = "visible";
						document.getElementById("speaking" + number).style.backgroundColor = "black";
						 
						
						
  }else {
	  document.getElementById("p" + number).style.visibility = "visible";}
	  
  

}


